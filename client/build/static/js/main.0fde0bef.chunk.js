(this["webpackJsonpgithub-folowwers"]=this["webpackJsonpgithub-folowwers"]||[]).push([[0],{18:function(e,n,t){},25:function(e,n,t){},26:function(e,n,t){"use strict";t.r(n);var o=t(0),r=t.n(o),a=t(6),c=t.n(a),l=(t(18),t(2)),s=t.n(l),u=t(3),i=t(12),d=t(5),f=function(){return Object(d.b)()},p=d.c,v=function(){var e=Object(u.a)(s.a.mark((function e(n,t){var o,r,a,c,l,u,i,d,f,p,v,h,b,m;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="http://localhost:8080/",e.prev=1,v=void 0===t?"".concat(o,"?user=").concat(n):"".concat(o,"?user=").concat(n,"&cursor=").concat(t),e.next=5,fetch(v);case 5:return h=e.sent,e.next=8,h.json();case 8:return b=e.sent,m={names:null===b||void 0===b||null===(r=b.user)||void 0===r||null===(a=r.followers)||void 0===a||null===(c=a.edges)||void 0===c?void 0:c.map((function(e){var n,t;return[null===e||void 0===e||null===(n=e.node)||void 0===n?void 0:n.login,null===e||void 0===e||null===(t=e.node)||void 0===t?void 0:t.name]})),endCursor:null===b||void 0===b||null===(l=b.user)||void 0===l||null===(u=l.followers)||void 0===u||null===(i=u.pageInfo)||void 0===i?void 0:i.endCursor,hasNextPage:null===b||void 0===b||null===(d=b.user)||void 0===d||null===(f=d.followers)||void 0===f||null===(p=f.pageInfo)||void 0===p?void 0:p.hasNextPage},e.abrupt("return",m);case 13:throw e.prev=13,e.t0=e.catch(1),e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(n,t){return e.apply(this,arguments)}}(),h=t(13),b=t(8),m=Object(b.b)({name:"homePage",initialState:{followersPages:[],user:"",isAccountName:!1,depth:1},reducers:{addUser:function(e,n){e.user=n.payload,e.followersPages=[],e.depth=1},addFollowersPage:function(e,n){e.followersPages=[].concat(Object(h.a)(e.followersPages),[n.payload])},updateDepth:function(e,n){e.depth+=n.payload},updateNameType:function(e,n){e.isAccountName=n.payload}}}),j=function(e){return e.homePage.user},g=function(e){return e.homePage.isAccountName},w=function(e){return e.homePage.depth},x=function(e){var n,t,o;return null===(n=e.homePage)||void 0===n||null===(t=n.followersPages)||void 0===t||null===(o=t[e.homePage.depth-1])||void 0===o?void 0:o.names},O=function(e){var n,t,o,r;return[null===(n=e.homePage.followersPages)||void 0===n||null===(t=n[e.homePage.depth-1])||void 0===t?void 0:t.endCursor,null===(o=e.homePage.followersPages)||void 0===o||null===(r=o[e.homePage.depth-1])||void 0===r?void 0:r.hasNextPage]},y=m.actions,P=y.addUser,N=y.addFollowersPage,k=y.updateDepth,S=y.updateNameType,F=m.reducer,C=t(1);var D=function(){var e=p(j),n=p(x),t=p(g),o={"--start-count":30*(p(w)-1)};return Object(C.jsxs)("ol",{className:"followers ".concat(0===(null===n||void 0===n?void 0:n.length)?"followers--empty":""),style:o,children:[0===(null===n||void 0===n?void 0:n.length)&&Object(C.jsxs)("div",{children:["Unfortunately ",e," currently doesn't have any followers \ud83d\ude22"]}),null===n||void 0===n?void 0:n.map((function(e){return Object(C.jsx)("li",{className:"follower ".concat(t&&!e[1]?"follower-empty":""),children:t?e[1]||"- No name specified -":e[0]},e[0])}))]})};var U=function(){var e,n=p(j),t=p(w),o=p(O),r=(e=f(),{setFollowersPage:function(n){return e(N(n))},setDepth:function(n){return e(k(n))}}),a=r.setFollowersPage,c=r.setDepth;return Object(C.jsxs)("div",{className:"pagination-buttons",children:[t>1&&Object(C.jsx)("button",{className:"btn prev",title:"".concat(1+30*(t-2)," - ").concat(30*(t-1)),type:"button",onClick:function(){c(-1)},children:"\u2039 Show previous 30 followers"}),o[1]&&Object(C.jsx)("button",{className:"btn next",title:"".concat(1+30*t," - ").concat(30*(t+1)),type:"button",onClick:function(){(function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n,o[0]);case 2:t=e.sent,console.log("page: nextclick",t),t&&a(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),c(1)},children:"Show more followers \u203a"})]})};function A(e){var n,t=(n=f(),{setNewUser:function(e){return n(P(e))},setFollowersPage:function(e){return n(N(e))},setNameType:function(e){return n(S(e))}}),r=t.setNewUser,a=t.setFollowersPage,c=t.setNameType,l=Object(o.useRef)(null),d=Object(o.useState)(),h=Object(i.a)(d,2),b=h[0],m=h[1],j=Object(o.useState)(""),w=Object(i.a)(j,2),x=w[0],O=w[1],y=p(g);function k(){return(k=Object(u.a)(s.a.mark((function e(n){var t,o,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),console.log("formInput: ",null===l||void 0===l||null===(t=l.current)||void 0===t?void 0:t.value),a=null===(o=l.current)||void 0===o?void 0:o.value,b!==a){e.next=5;break}return e.abrupt("return");case 5:a&&m(a),a&&r(a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(o.useEffect)((function(){b&&function(){var e=Object(u.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v(b,undefined);case 3:n=e.sent,console.log("page",n),n&&a(n),O(""),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("error 456: ",e.t0),O(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()()}),[b]),Object(C.jsxs)("main",{children:[Object(C.jsxs)("form",{onSubmit:function(e){return k.apply(this,arguments)},children:[Object(C.jsx)("input",{className:"input",type:"text",ref:l,placeholder:"Enter github login name"}),Object(C.jsx)("button",{className:"btn btn--primary",children:"Display followers"}),Object(C.jsxs)("div",{className:"checkbox-wpr",children:[Object(C.jsx)("input",{className:"checkbox",type:"checkbox",id:"cb",onChange:function(){c(!y)}}),Object(C.jsx)("label",{className:"",htmlFor:"cb",children:"Login Names"}),Object(C.jsx)("label",{htmlFor:"cb",children:"Account Names"})]})]}),Object(C.jsx)(U,{}),""!==x.toString()?Object(C.jsx)("div",{className:"error-msg",children:x.toString()}):Object(C.jsx)(D,{})]})}t(25);var I=function(){return Object(C.jsx)(A,{})},T=Object(b.a)({reducer:{homePage:F}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(d.a,{store:T,children:Object(C.jsx)(I,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.0fde0bef.chunk.js.map